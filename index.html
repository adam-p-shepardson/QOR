<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Functions to Identify Who Can Vote in What School District • QOR</title>
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="deps/Google_Sans_Code-0.4.10/font.css" rel="stylesheet">
<link href="deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Functions to Identify Who Can Vote in What School District">
<meta name="description" content='Matching point geometries (e.g., voter locations) to polygon geometries (e.g., school districts) using spatial intersections and distances. The package implements the "Query, Overlay, Recover" (QOR) method from Shepardson et al. (2026), which is a three-step process to identify which voters live in which school districts. QOR may be generalizable to other sets of point and polygon geometries, although the package is currently designed for education research applications.'>
<meta property="og:description" content='Matching point geometries (e.g., voter locations) to polygon geometries (e.g., school districts) using spatial intersections and distances. The package implements the "Query, Overlay, Recover" (QOR) method from Shepardson et al. (2026), which is a three-step process to identify which voters live in which school districts. QOR may be generalizable to other sets of point and polygon geometries, although the package is currently designed for education research applications.'>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">QOR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="articles/data-setup.html">Data Setup</a></li>
<li class="nav-item"><a class="nav-link" href="articles/getting-started.html">Getting Started</a></li>
<li class="nav-item"><a class="nav-link" href="articles/state-fips.html">State FIPS Codes</a></li>
<li class="nav-item"><a class="nav-link" href="articles/extra-notes.html">Extra Notes</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adam-p-shepardson/QOR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="qor-functions-to-identify-who-can-vote-in-what-school-district">QOR: Functions to Identify Who Can Vote in What School District<a class="anchor" aria-label="anchor" href="#qor-functions-to-identify-who-can-vote-in-what-school-district"></a>
</h1></div>
<p>The QOR package contains functions for implementing the Query, Overlay, Recover (QOR) method, which links analytically useful administrative boundaries with the individual voter files that many U.S. states produce at little to no cost. We introduced QOR during a paper presentation at the 2025 Association for Education Finance and Policy Conference, and further detail the process with applied examples in a forthcoming paper.</p>
</div>
<div class="section level1">
<h1 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h1>
<p>Please cite our work as follows:</p>
<p>Shepardson, A., Lyon, M., Schueler, B., &amp; Bleiberg, J. (2026). QOR: Functions to Identify ‘Who Can Vote’ in ‘What School District’ (Version 0.9.0.0) [Computer software]. <a href="https://adam-p-shepardson.github.io/QOR" class="uri">https://adam-p-shepardson.github.io/QOR</a></p>
</div>
<div class="section level1">
<h1 id="query-overlay-recover">Query, Overlay, Recover<a class="anchor" aria-label="anchor" href="#query-overlay-recover"></a>
</h1>
<p>QOR is a set of interwoven geospatial data management strategies which help address longstanding challenges in identifying “Who Votes” in school board elections. The process follows three simple steps:</p>
<ol style="list-style-type: decimal">
<li>Query</li>
</ol>
<p>Leverage the U.S. Census Geocoder (or any Geocoding sevice of your choice) to transform addresses into precise longitude/latitude coordinates. The <code><a href="reference/query.html">query()</a></code> function is a wrapper around the excellent <code><a href="https://jessecambon.github.io/tidygeocoder/reference/geocode.html" class="external-link">tidygeocoder::geocode()</a></code> (Cambon et al., 2021) that has been tailored to our specific data. We recommend <code>tidygeocoder</code> for easily geocoding addresses in R, and provide <code><a href="reference/query.html">query()</a></code> as a way to demonstrate how users can adapt <code>tidygeocoder</code> for use with voter files.</p>
<ol start="2" style="list-style-type: decimal">
<li>Overlay</li>
</ol>
<p>Superimpose school district shapefiles onto voter point geometries and exploit spatial object intersections to match voters with districts. The <code><a href="reference/overlay.html">overlay()</a></code> function takes in point geometries (voter locations) and polygon geometries (school district boundaries) with unique identifer columns, and returns a dataset that matches each point to one polygon. For edge cases where points fall within multiple polygons or no polygons, the function calculates distances to polygon internal points and assigns points to the nearest polygon.</p>
<ol start="3" style="list-style-type: decimal">
<li>Recover</li>
</ol>
<p>For the small portion of voters who cannot be located through an exact address match, assign the nearest school district to their registration zipcode. The <code><a href="reference/recover.html">recover()</a></code> function takes in units (with zipcodes), school district polygon geometries, and zipcode polygon geometries with unique identifer columns. It then calculates distances between the centroids for each zipcode and internal points for each school district, and returns a dataset that matches each voter to their nearest school district based on these new points.</p>
</div>
<div class="section level1">
<h1 id="tldr">TL;DR<a class="anchor" aria-label="anchor" href="#tldr"></a>
</h1>
<p>We provide template code for matching voters to school districts via this repository and welcome the use and modification of our code, with proper citation. Each step corresponds to a function in the QOR package:</p>
<ul>
<li>
<code><a href="reference/query.html">query()</a></code> for geocoding addresses into point geometries</li>
<li>
<code><a href="reference/overlay.html">overlay()</a></code> for matching point geometries to polygon geometries</li>
<li>
<code><a href="reference/recover.html">recover()</a></code> for assigning unmatched points to polygons based on zipcode centroids</li>
</ul>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>To install the QOR package, use the following code in R:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"adam-p-shepardson/QOR"</span>, dependencies<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Please note that installing the <code>sf</code> (Pebesma &amp; Bivand, 2023) dependency is more difficult on MacOS and Linux than for Windows. Mac and Linux users may need to follow the instructions here before installing QOR: <a href="https://github.com/r-spatial/sf" class="external-link uri">https://github.com/r-spatial/sf</a></p>
</div>
<div class="section level1">
<h1 id="minimal-data-requirements">Minimal Data Requirements<a class="anchor" aria-label="anchor" href="#minimal-data-requirements"></a>
</h1>
<p>QOR requires voter postal addresses, school district shapefiles, zipcode shapefiles, and a state boundary shapefile, with any time-varying shapes ideally obtained on a yearly basis. These undemanding data requirements can also accommodate paid voter files (including popular products from vendors L2 and Catalist) provided these products contain registration address information. School district shapefiles from the <a href="https://nces.ed.gov/programs/edge/Geographic/DistrictBoundaries" class="external-link">NCES Education Demographic and Geographic Estimates (EDGE) program</a> and zipcode shapefiles from the <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html" class="external-link">Census TIGER/LINE database</a> are preferred for use with QOR. Note that it is difficult to download unzipped folders directly in R, and downloading .zip file versions is much easier.</p>
<p>For example, it is possible to copy a link to .zip folders and unzip them in R like so:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">"YOUR URL"</span>, destfile <span class="op">=</span> <span class="st">"ZIP FOLDER DESTINATION PATH"</span>, mode <span class="op">=</span> <span class="st">"wb"</span>, method <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Unzip</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span>zipfile <span class="op">=</span> <span class="st">"FILE/FOLDER PATH FROM 'destfile' ABOVE"</span>, exdir <span class="op">=</span> <span class="st">"EXTRACTION PATH"</span><span class="op">)</span></span></code></pre></div>
<p>Users are advised to exercise caution and to view our functions’ source code if substituting their own shapefiles. Users are also advised to understand the limitations of even the NCES shapefiles, which only recently began to update boundaries yearly (though documentation suggests that they are still re-posted every year in a manner that aligns with Census TIGER/LINE database updates). We treat the NCES shapefiles as the best available national option for school district boundaries, but recognize that they are not perfect.</p>
<p>Although QOR focuses on linking voters to specific school districts, it is also possible to substitute the addresses of some other entity of interest (e.g., specific schools, businesses, etc…) into the code. Similarly, rather than matching such entities to school districts, QOR can facilitate placing research subjects within the bounds of any shapefiles one has on hand (e.g., special administrative districts broadly-speaking). We recognize these external applications despite focusing our attention on a persistent voter identification problem in political research about school board elections.</p>
</div>
<div class="section level1">
<h1 id="tutorials">Tutorials<a class="anchor" aria-label="anchor" href="#tutorials"></a>
</h1>
<p>Guidance on setting up raw data for use with QOR is available in the <a href="https://adam-p-shepardson.github.io/QOR/articles/data-setup.html">Data Setup</a> vignette.</p>
<p>Similaly, we provide example code for using each of the three main functions in the <a href="https://adam-p-shepardson.github.io/QOR/articles/getting-started.html">Getting Started</a> vignette.</p>
<p>For additional notes, external citations, and disclaimers, please see the <a href="https://adam-p-shepardson.github.io/QOR/articles/extra-notes.html">Extra Notes</a> page.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/adam-p-shepardson/QOR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/adam-p-shepardson/QOR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing QOR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Adam Shepardson <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0009-0004-1153-8014" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam Shepardson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
